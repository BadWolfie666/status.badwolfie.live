<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>badwolfie.live â€” Status</title>
  <meta property="og:title" content="badwolfie.live â€” Status" />
  <meta property="og:description" content="Status page for badwolfie.live" />
  <meta property="og:image" content="/favicon.png" />
  <meta name="theme-color" content="#0b0b12" />
  <link rel="icon" href="./favicon.png" type="image/png" />

  <style>
    @font-face {
      font-family: Inter;
      font-style: normal;
      font-weight: 400 700;
      src: local("Inter");
      font-display: swap;
    }
  </style>

  <style>
    :root{
      --bg:#000;
      --glass-bg: rgba(255,255,255,.06);
      --glass-brd: rgba(255,255,255,.14);
      --accent:#bb9af7;
      --text:#fff;
      --muted:#c0caf5;
      --grid:#333;
      --ok:#38d27a;
      --warn:#ffcf5a;
      --danger:#ff5a6b;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      background: var(--bg);
      color: var(--text);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      overflow-x:hidden;
      position:relative;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    body::before{
      content:"";
      position:fixed; inset:0;
      background:
        radial-gradient(1200px 600px at 20% 50%, rgba(96,40,74,.10), transparent 60%),
        radial-gradient(900px 500px at 80% 20%, rgba(67,81,119,.10), transparent 60%),
        radial-gradient(800px 800px at 40% 80%, rgba(255,255,255,.05), transparent 60%);
      z-index:-2;
      pointer-events:none;
    }

    #bg{
      position:fixed; inset:0;
      z-index:-1; pointer-events:none;
    }

    .cte{
      position:fixed; inset:0;
      background: rgba(0,0,0,.9);
      backdrop-filter: blur(10px);
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      z-index:1000;
      transition: opacity .6s ease;
      gap:16px;
    }
    .cte.fade-out{opacity:0; pointer-events:none}
    .cte-logo{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      font-size:.7rem; line-height:1.2; white-space:pre; color:#bb9af7;
      text-shadow: 0 0 20px rgba(187,154,247,.5);
      margin-bottom:10px;
    }
    .cte-btn{
      font:600 1.1rem/1 Inter,system-ui,sans-serif;
      color:#fff;
      padding:14px 28px;
      border-radius:12px;
      border:1px solid rgba(187,154,247,.35);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      box-shadow: 0 10px 24px rgba(0,0,0,.35), 0 0 24px rgba(187,154,247,.15) inset;
      cursor:pointer;
      transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .cte-btn:hover{
      transform: translateY(-2px);
      border-color: rgba(187,154,247,.6);
      box-shadow: 0 14px 30px rgba(0,0,0,.44), 0 0 30px rgba(187,154,247,.25) inset;
    }

    .container{max-width:1100px;margin:0 auto;padding:28px}
    .hdr{text-align:center;margin:8px 0 24px 0}
    .ascii{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      white-space:pre; font-size:.58rem; line-height:1.15;
      display:inline-block; position:relative; user-select:text;
      color:#eaeaea;
    }
    .ascii:after{
      content:"";
      position:absolute; left:50%; bottom:-10px; transform:translateX(-50%);
      width:82%; height:3px; border-radius:2px;
      background: linear-gradient(90deg, var(--accent), rgba(255,255,255,.35));
      opacity:.8;
    }
    .tagline{
      margin-top:18px; color:var(--muted); font-size:.98rem;
    }

    .section-title{
      text-align:center; font-weight:700; letter-spacing:.02em;
      color:#e8e8ff; margin:26px 0 14px 0; font-size:1.15rem;
    }
    .sep{height:1px; background:var(--grid); margin:20px 0 18px 0; opacity:.6}

    .glass{
      background: var(--glass-bg);
      border:1px solid var(--glass-brd);
      border-radius:16px;
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      box-shadow: 0 10px 25px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.02);
      transition: transform .2s ease, box-shadow .2s ease;
    }
    .glass:hover{
      transform: translateY(-2px);
      box-shadow: 0 14px 32px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.04);
    }

    .servers-grid{
      display:grid; gap:16px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 820px){
      .servers-grid{grid-template-columns: 1fr 1fr;}
    }
    .server{
      padding:16px 16px 14px 16px;
    }
    .server-head{
      display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px;
    }
    .server-name{
      display:flex; flex-direction:column;
    }
    .server-name b{font-size:1rem; letter-spacing:.02em}
    .server-name span{font-size:.82rem; color:var(--muted)}
    .status{
      display:flex; align-items:center; gap:8px; font-weight:600;
      font-size:.9rem; letter-spacing:.01em;
      padding:8px 10px; border-radius:12px; border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      transition: all .3s ease;
    }
    .dot{
      width:10px;height:10px;border-radius:50%;
      box-shadow:0 0 12px currentColor;
      animation: pulse 2s ease-in-out infinite;
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity:1; }
      50% { transform: scale(1.1); opacity:.8; }
    }
    .ok .dot{color:var(--ok)}
    .warn .dot{color:var(--warn)}
    .danger .dot{color:var(--danger)}
    .ok.status{border-color:rgba(56,210,122,.35); background: rgba(56,210,122,.05);}
    .warn.status{border-color:rgba(255,207,90,.35); background: rgba(255,207,90,.05);}
    .danger.status{border-color:rgba(255,90,107,.40); background: rgba(255,90,107,.05);}

    .kpis{
      display:grid; grid-template-columns: repeat(3, minmax(0,1fr));
      gap:12px; margin:10px 0 8px 0;
    }
    .kpi{
      padding:10px; border-radius:12px; 
      border:1px solid rgba(255,255,255,.08); 
      background:rgba(255,255,255,.025); 
      text-align:center;
      transition: all .2s ease;
    }
    .kpi:hover{
      border-color: rgba(187,154,247,.3);
      background:rgba(255,255,255,.04);
    }
    .kpi .label{display:block; font-size:.75rem; color:#b7c2ff; margin-bottom:4px; letter-spacing:.03em}
    .kpi .value{font-size:1.05rem; font-weight:700}

    .uptime{
      margin-top:10px;
    }
    .uptime-row{
      display:flex; align-items:center; justify-content:space-between; margin-bottom:6px; color:#dfe1ff; font-size:.85rem;
    }
    .bar{
      position:relative; height:9px; border-radius:999px;
      background:rgba(255,255,255,.06); overflow:hidden; border:1px solid rgba(255,255,255,.10);
    }
    .bar>span{
      display:block; height:100%;
      background: linear-gradient(90deg, rgba(187,154,247,.9), rgba(187,154,247,.55));
      width:0%;
      transition: width .6s ease;
      box-shadow: 0 0 18px rgba(187,154,247,.35);
    }

    #apiCard{padding:14px}
    #apiChart{width:100%; height:280px}
    .card-title{
      display:flex; align-items:center; justify-content:space-between; margin-bottom:8px;
      font-weight:700; color:#e8e8ff;
    }

    .music-ctrl{
      position:fixed; bottom:20px; right:20px; z-index:999;
      display:flex; gap:8px; align-items:center;
      padding:10px 14px; border-radius:12px;
      background: rgba(255,255,255,.05);
      border:1px solid rgba(187,154,247,.35);
      backdrop-filter: blur(18px);
      box-shadow: 0 6px 18px rgba(0,0,0,.3);
      font-size:.85rem; color:#fff;
      opacity:0; transition: opacity .3s ease;
    }
    .music-ctrl.show{opacity:1}
    .music-btn{
      width:32px; height:32px; border-radius:8px;
      border:1px solid rgba(187,154,247,.4);
      background: rgba(187,154,247,.1);
      cursor:pointer; display:flex; align-items:center; justify-content:center;
      transition: all .2s ease; color:#bb9af7;
    }
    .music-btn:hover{
      background: rgba(187,154,247,.2);
      border-color: rgba(187,154,247,.6);
    }
    .vol-slider{
      width:80px; height:4px; border-radius:2px;
      background: rgba(255,255,255,.1);
      appearance:none; cursor:pointer;
    }
    .vol-slider::-webkit-slider-thumb{
      appearance:none; width:12px; height:12px; border-radius:50%;
      background:#bb9af7; cursor:pointer;
    }

    .footer{
      margin-top:22px;
      padding:14px 16px;
      display:flex; align-items:center; justify-content:space-between;
      font-size:.9rem; color:#d8d8ff;
    }
    .footer a{color:var(--accent); text-decoration:none; transition: color .2s ease;}
    .footer a:hover{color:#d4b5ff;}

    .wel-toast{
      position:fixed; left:50%; bottom:28px; transform:translateX(-50%);
      padding:10px 14px; border-radius:12px;
      background: rgba(255,255,255,.05);
      border:1px solid rgba(187,154,247,.35);
      backdrop-filter: blur(18px);
      color:#fff; z-index:1200; opacity:0; transition:opacity .25s ease;
      box-shadow: 0 10px 24px rgba(0,0,0,.35), 0 0 22px rgba(187,154,247,.15) inset;
      pointer-events:none;
    }

    @media (max-width:560px){
      .ascii{font-size:.46rem}
      .cte-logo{font-size:.5rem}
      .kpis{grid-template-columns: repeat(3,1fr)}
      .footer{flex-direction:column; gap:8px; text-align:center}
      .music-ctrl{bottom:10px; right:10px; font-size:.75rem; padding:8px 10px;}
      .vol-slider{width:60px}
    }
  </style>

  <script src="https://code.highcharts.com/highcharts.js"></script>
</head>
<body>
  <canvas id="bg"></canvas>

  <div id="cte" class="cte">
    <button class="cte-btn" aria-label="Click to Enter">Click to Enter</button>
  </div>

  <div class="container">
    <div class="hdr">
      <div class="ascii">
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•   â•šâ•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•  
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•  â•šâ•â•â•â•šâ•â•â•  â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•     â•šâ•â•â•šâ•â•â•â•â•â•â•    â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•â•  â•šâ•â•â•â•â•â•â•
      </div>
      <div class="tagline">Real-time status for <b>badwolfie.live</b></div>
    </div>

    <div class="sep"></div>

    <h2 class="section-title">Server Infrastructure</h2>
    <div class="servers-grid">
      <div id="srvA" class="server glass">
        <div class="server-head">
          <div class="server-name">
            <b>Dallas, Texas (GoFan Core)</b>
            <span>Primary Server</span>
          </div>
          <div class="status ok" data-role="status">
            <span class="dot"></span><span data-role="status-text">Operational</span>
          </div>
        </div>
        <div class="kpis">
          <div class="kpi">
            <span class="label">Ping (ms)</span>
            <span class="value" data-role="ping">48</span>
          </div>
          <div class="kpi">
            <span class="label">Load</span>
            <span class="value" data-role="load">1.45</span>
          </div>
          <div class="kpi">
            <span class="label">Uptime</span>
            <span class="value" data-role="uptimeTxt">99.97%</span>
          </div>
        </div>
        <div class="uptime">
          <div class="uptime-row">
            <span>30-Day Uptime</span>
            <span data-role="uptimeTxt2">99.97%</span>
          </div>
          <div class="bar"><span data-role="uptimeBar" style="width:99.97%"></span></div>
        </div>
      </div>

      <div id="srvB" class="server glass">
        <div class="server-head">
          <div class="server-name">
            <b>San Francisco, California (GoFan Backup)</b>
            <span>Backup Server</span>
          </div>
          <div class="status ok" data-role="status">
            <span class="dot"></span><span data-role="status-text">Operational</span>
          </div>
        </div>
        <div class="kpis">
          <div class="kpi">
            <span class="label">Ping (ms)</span>
            <span class="value" data-role="ping">52</span>
          </div>
          <div class="kpi">
            <span class="label">Load</span>
            <span class="value" data-role="load">1.62</span>
          </div>
          <div class="kpi">
            <span class="label">Uptime</span>
            <span class="value" data-role="uptimeTxt">99.91%</span>
          </div>
        </div>
        <div class="uptime">
          <div class="uptime-row">
            <span>30-Day Uptime</span>
            <span data-role="uptimeTxt2">99.91%</span>
          </div>
          <div class="bar"><span data-role="uptimeBar" style="width:99.91%"></span></div>
        </div>
      </div>
    </div>

    <h2 class="section-title" style="margin-top:22px">BadWolf API Performance</h2>
    <div id="apiCard" class="glass">
      <div class="card-title">
        <span>Requests per Second</span>
        <span style="font-size:.85rem;font-weight:400;color:#b7c2ff">Live Data</span>
      </div>
      <div id="apiChart"></div>
    </div>

    <div class="footer glass">
      <div><a href="https://badwolfie.live" target="_blank" rel="noopener" style="text-decoration:none;color:#d8d8ff">Powered by BadWolfNetworks Â© 2025</a></div>
      <div style="display:flex;gap:32px">
        <a href="https://github.com/udpcat" target="_blank" rel="noopener">Hex (udpcat)</a>
        <a href="https://guns.badwolfie.live" target="_blank" rel="noopener">guns.badwolfie.live</a>
      </div>
    </div>
  </div>

  <div class="music-ctrl" id="musicCtrl">
    <button class="music-btn" id="playBtn" title="Play/Pause">â–¶</button>
    <span>ğŸµ Music</span>
  </div>

  <audio id="audioPlayer" loop preload="auto">
    <source src="/audio.mp3" type="audio/mpeg">
  </audio>

  <script>
    (function(){
      const canvas = document.getElementById('bg');
      const ctx = canvas.getContext('2d');
      let W=innerWidth, H=innerHeight;
      let pts=[], N=70, D=130;

      function resize(){
        W = innerWidth; H = innerHeight;
        canvas.width = W; canvas.height = H;
        init();
      }
      function randCol(){
        const cols = ['#60284A','#435177','#FFFFFF','#bb9af7'];
        return cols[Math.floor(Math.random()*cols.length)];
      }
      function init(){
        pts.length = 0;
        for(let i=0;i<N;i++){
          pts.push({
            x: Math.random()*W, y: Math.random()*H,
            vx: (Math.random()-.5)*.35, vy:(Math.random()-.5)*.35,
            c: randCol()
          });
        }
      }
      function draw(){
        ctx.clearRect(0,0,W,H);
        for(let i=0;i<pts.length;i++){
          const p=pts[i];
          p.x+=p.vx; p.y+=p.vy;
          if(p.x<0||p.x>W) p.vx*=-1;
          if(p.y<0||p.y>H) p.vy*=-1;

          ctx.beginPath(); ctx.arc(p.x,p.y,1.2,0,Math.PI*2); ctx.fillStyle=p.c; ctx.fill();
          for(let j=i+1;j<pts.length;j++){
            const q=pts[j];
            const dx=p.x-q.x, dy=p.y-q.y; const dist=Math.hypot(dx,dy);
            if(dist<D){
              const g=ctx.createLinearGradient(p.x,p.y,q.x,q.y);
              g.addColorStop(0,p.c); g.addColorStop(1,q.c);
              ctx.beginPath(); ctx.moveTo(p.x,p.y); ctx.lineTo(q.x,q.y);
              ctx.strokeStyle=g; ctx.lineWidth=.35*(1 - dist/D); ctx.stroke();
            }
          }
        }
        requestAnimationFrame(draw);
      }
      addEventListener('resize', resize);
      resize(); draw();
    })();

    (function(){
      const gate = document.getElementById('cte');
      const musicCtrl = document.getElementById('musicCtrl');
      const playBtn = document.getElementById('playBtn');
      const audio = document.getElementById('audioPlayer');
      let isPlaying = false;

      audio.volume = 1.0; // 100% volume
      
      gate.addEventListener('click', ()=>{
        gate.classList.add('fade-out');
        audio.play().then(()=>{
          isPlaying = true;
          playBtn.textContent = 'â¸';
        }).catch(err => console.log('Audio play failed:', err));
        
        setTimeout(()=>{ 
          gate.style.display='none';
          musicCtrl.classList.add('show');
        }, 600);

        const t=document.createElement('div'); t.className='wel-toast';
        t.textContent='ğŸµ Welcome to status.badwolfie.live';
        document.body.appendChild(t);
        requestAnimationFrame(()=> t.style.opacity='1');
        setTimeout(()=>{ t.style.opacity='0'; setTimeout(()=>t.remove(), 250); }, 2500);
      }, { once:true });

      playBtn.addEventListener('click', ()=>{
        if(isPlaying){
          audio.pause();
          playBtn.textContent='â–¶';
          isPlaying=false;
        } else {
          audio.play();
          playBtn.textContent='â¸';
          isPlaying=true;
        }
      });
    })();

    (function(){
      const clamp=(v,min,max)=>Math.max(min,Math.min(max,v));
      function fmt(num, d=2){
        return Number(num).toFixed(d);
      }

      function initServer(root, init){
        const el = (sel)=>root.querySelector(sel);
        const s = {
          ping: init.ping,
          load: init.load,
          uptime: init.uptime,
          basePing: init.ping,
          baseLoad: init.load,
          trafficCycle: 0,
          elPing: el('[data-role="ping"]'),
          elLoad: el('[data-role="load"]'),
          elUp1: el('[data-role="uptimeTxt"]'),
          elUp2: el('[data-role="uptimeTxt2"]'),
          elBar: el('[data-role="uptimeBar"]'),
          elStat: el('[data-role="status"]'),
          elStatTxt: el('[data-role="status-text"]'),
        };

        function updateStatus(){
          let cls='ok', txt='Operational';
          // Heavily favor Operational: 70% operational, 25% degraded, 5% partial outage
          const rand = Math.random();
          if (s.ping > 110 || s.load > 2.3){ 
            if(rand < 0.05) { cls='danger'; txt='Partial Outage'; }
            else if(rand < 0.30) { cls='warn'; txt='Degraded'; }
          }
          else if (s.ping > 75 || s.load > 1.9){ 
            if(rand < 0.25) { cls='warn'; txt='Degraded'; }
          }
          s.elStat.classList.remove('ok','warn','danger'); s.elStat.classList.add(cls);
          s.elStatTxt.textContent = txt;
        }

        function tick(){
          s.trafficCycle += 0.05;
          
          // HEAVY LOAD simulation - servers under constant heavy usage
          const hourOfDay = (Date.now() / 3600000) % 24;
          const trafficMultiplier = 0.85 + 0.15 * Math.sin((hourOfDay - 6) / 24 * Math.PI * 2);
          
          // Heavy load patterns with frequent bursts
          const loadWave = Math.sin(s.trafficCycle) * 0.25;
          const burstChance = Math.random();
          const burst = burstChance > 0.80 ? Math.random() * 0.6 : 0;
          
          // Ping: realistic 40-80ms range under load
          const loadImpact = (s.load - 1.0) * 15;
          s.ping = s.basePing + Math.random() * 12 - 6 + loadImpact;
          s.ping = clamp(s.ping, 35, 95);
          
          // Load: Heavy baseline 1.2-2.5 range (40-80% CPU usage equivalent)
          const targetLoad = 1.2 + (trafficMultiplier * 0.8) + loadWave + burst;
          s.load += (targetLoad - s.load) * 0.18;
          s.load = clamp(s.load, 1.1, 2.6);
          
          // Uptime: very slow drift, occasional tiny drops
          const uptimeChange = Math.random() > 0.98 ? -0.001 : 0.0001;
          s.uptime = clamp(s.uptime + uptimeChange, 98.5, 100);

          // More frequent stress events (traffic spikes)
          if(Math.random() > 0.995){
            s.load = Math.min(s.load * 1.3, 2.5);
            s.ping += 15;
          }

          s.elPing.textContent = Math.round(s.ping);
          s.elLoad.textContent = fmt(s.load, 2);
          const upTxt = fmt(s.uptime, 2) + '%';
          s.elUp1.textContent = upTxt; s.elUp2.textContent = upTxt;
          s.elBar.style.width = fmt(s.uptime, 2) + '%';

          updateStatus();
        }
        
        tick();
        return setInterval(tick, 800);
      }

      initServer(document.getElementById('srvA'), { ping:48, load:1.45, uptime:99.97 });
      initServer(document.getElementById('srvB'), { ping:52, load:1.62, uptime:99.91 });
    })();

    (function(){
      const chart = Highcharts.chart('apiChart', {
        chart: { type:'areaspline', backgroundColor:'transparent' },
        title: { text: '', style:{ color:'#fff' } },
        credits: { enabled:false },
        legend: { enabled:false },
        xAxis: {
          type:'datetime',
          lineColor:'#333', tickColor:'#333',
          labels: { 
            style:{ color:'#c0caf5' },
            formatter: function() {
              // Mountain Time (MT) is UTC-7
              const date = new Date(this.value);
              const mtTime = new Date(date.getTime() - (7 * 60 * 60 * 1000));
              return Highcharts.dateFormat('%H:%M:%S', mtTime);
            }
          }
        },
        yAxis: {
          title: { text: 'Requests/sec', style:{ color:'#c0caf5' } },
          gridLineColor:'#333',
          labels: { style:{ color:'#c0caf5' } },
          min:0
        },
        tooltip: {
          backgroundColor:'rgba(0,0,0,.9)',
          borderColor:'rgba(187,154,247,.6)',
          style:{ color:'#fff' },
          formatter: function() {
            const date = new Date(this.x);
            const mtTime = new Date(date.getTime() - (7 * 60 * 60 * 1000));
            return '<b>' + Highcharts.dateFormat('%H:%M:%S MT', mtTime) + '</b><br/>' +
                   'Requests: <b>' + Math.round(this.y) + '/sec</b>';
          }
        },
        plotOptions:{
          areaspline:{
            fillColor: {
              linearGradient: { x1:0, y1:0, x2:0, y2:1 },
              stops: [
                [0, 'rgba(187,154,247,.4)'],
                [1, 'rgba(187,154,247,.05)']
              ]
            },
            lineWidth:2,
            marker:{ enabled:false }
          }
        },
        series: [{ name:'Requests', color:'#bb9af7', data:[] }]
      });

      // Randomize base pattern per page load
      const basePattern = Math.random() * 100 + 80; // 80-180 base
      const waveSpeed = Math.random() * 2000 + 3000; // 3000-5000ms wave
      const waveAmplitude = Math.random() * 30 + 20; // 20-50 amplitude
      const trendDirection = (Math.random() - 0.5) * 0.3; // slight trend up or down

      function val(t){
        const serverState = window.sharedServerState || {avgLoad: 1.5, avgPing: 50};
        
        // Correlate with server load: higher load = more traffic
        const loadMultiplier = 0.7 + (serverState.avgLoad / 2.5) * 0.8; // 0.7-1.5x
        
        // Realistic traffic with multiple wave patterns
        const primaryWave = Math.sin(t / waveSpeed) * waveAmplitude;
        const secondaryWave = Math.sin(t / (waveSpeed * 0.6)) * (waveAmplitude * 0.4);
        const trend = (t / 60000) * trendDirection; // slow trend over time
        
        // Random variance and bursts
        const jitter = (Math.random() - 0.5) * 30;
        const burst = Math.random() > 0.90 ? Math.random() * 50 : 0;
        
        // Natural dips (traffic lulls)
        const dip = Math.random() > 0.95 ? -Math.random() * 40 : 0;
        
        const base = basePattern + primaryWave + secondaryWave + trend;
        const value = (base + jitter + burst + dip) * loadMultiplier;
        
        return Math.max(50, Math.min(250, value));
      }
      
      function tick(){
        const s = chart.series[0];
        const x = Date.now();
        const y = val(x);
        s.addPoint([x, y], true, s.data.length >= 60);
      }
      
      // Seed with varied historical data
      const now = Date.now();
      for(let i=59;i>=0;i--){
        chart.series[0].addPoint([now - i*1000, val(now - i*1000)], false, false);
      }
      chart.redraw();
      setInterval(tick, 1000);
    })();
  </script>
</body>
</html>