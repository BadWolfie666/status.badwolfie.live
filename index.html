<!DOCTYPE html>
<html lang="en">
<head>
  <!-- BW: meta & branding -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>badwolfie.live — Status</title>
  <meta property="og:title" content="badwolfie.live — Status" />
  <meta property="og:description" content="Status page for badwolfie.live" />
  <meta property="og:image" content="/favicon.png" />
  <meta name="theme-color" content="#0b0b12" />
  <link rel="icon" href="./favicon.png" type="image/png" />

  <!-- BW: fonts (system fallback first; Inter optional) -->
  <style>
    @font-face {
      font-family: Inter;
      font-style: normal;
      font-weight: 400 700;
      src: local("Inter");
      font-display: swap;
    }
  </style>

  <!-- BW: styles -->
  <style>
    :root{
      --bg:#000;
      --glass-bg: rgba(255,255,255,.06);
      --glass-brd: rgba(255,255,255,.14);
      --accent:#bb9af7;
      --text:#fff;
      --muted:#c0caf5;
      --grid:#333;
      --ok:#38d27a;
      --warn:#ffcf5a;
      --danger:#ff5a6b;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      background: var(--bg);
      color: var(--text);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      overflow-x:hidden;
      position:relative;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    /* subtle radial glows */
    body::before{
      content:"";
      position:fixed; inset:0;
      background:
        radial-gradient(1200px 600px at 20% 50%, rgba(96,40,74,.10), transparent 60%),
        radial-gradient(900px 500px at 80% 20%, rgba(67,81,119,.10), transparent 60%),
        radial-gradient(800px 800px at 40% 80%, rgba(255,255,255,.05), transparent 60%);
      z-index:-2;
      pointer-events:none;
    }

    /* star/constellation canvas */
    #bg{
      position:fixed; inset:0;
      z-index:-1; pointer-events:none;
    }

    /* click-to-enter overlay */
    .cte{
      position:fixed; inset:0;
      background: rgba(0,0,0,.9);
      backdrop-filter: blur(10px);
      display:flex; align-items:center; justify-content:center;
      z-index:1000;
      transition: opacity .6s ease;
    }
    .cte.fade-out{opacity:0; pointer-events:none}
    .cte-btn{
      font:600 1.1rem/1 Inter,system-ui,sans-serif;
      color:#fff;
      padding:14px 28px;
      border-radius:12px;
      border:1px solid rgba(187,154,247,.35);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      box-shadow: 0 10px 24px rgba(0,0,0,.35), 0 0 24px rgba(187,154,247,.15) inset;
      cursor:pointer;
      transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .cte-btn:hover{
      transform: translateY(-2px);
      border-color: rgba(187,154,247,.6);
      box-shadow: 0 14px 30px rgba(0,0,0,.44), 0 0 30px rgba(187,154,247,.25) inset;
    }

    /* layout */
    .container{max-width:1100px;margin:0 auto;padding:28px}
    .hdr{text-align:center;margin:8px 0 24px 0}
    .ascii{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      white-space:pre; font-size:.58rem; line-height:1.15;
      display:inline-block; position:relative; user-select:text;
      color:#eaeaea;
    }
    .ascii:after{
      content:"";
      position:absolute; left:50%; bottom:-10px; transform:translateX(-50%);
      width:82%; height:3px; border-radius:2px;
      background: linear-gradient(90deg, var(--accent), rgba(255,255,255,.35));
      opacity:.8;
    }
    .tagline{
      margin-top:18px; color:var(--muted); font-size:.98rem;
    }

    /* sections */
    .section-title{
      text-align:center; font-weight:700; letter-spacing:.02em;
      color:#e8e8ff; margin:26px 0 14px 0; font-size:1.15rem;
    }
    .sep{height:1px; background:var(--grid); margin:20px 0 18px 0; opacity:.6}

    /* glass card */
    .glass{
      background: var(--glass-bg);
      border:1px solid var(--glass-brd);
      border-radius:16px;
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      box-shadow: 0 10px 25px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.02);
    }

    /* servers grid */
    .servers-grid{
      display:grid; gap:16px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 820px){
      .servers-grid{grid-template-columns: 1fr 1fr;}
    }
    .server{
      padding:16px 16px 14px 16px;
    }
    .server-head{
      display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px;
    }
    .server-name{
      display:flex; flex-direction:column;
    }
    .server-name b{font-size:1rem; letter-spacing:.02em}
    .server-name span{font-size:.82rem; color:var(--muted)}
    .status{
      display:flex; align-items:center; gap:8px; font-weight:600;
      font-size:.9rem; letter-spacing:.01em;
      padding:8px 10px; border-radius:12px; border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
    }
    .dot{
      width:10px;height:10px;border-radius:50%;
      box-shadow:0 0 12px currentColor;
    }
    .ok .dot{color:var(--ok)}
    .warn .dot{color:var(--warn)}
    .danger .dot{color:var(--danger)}
    .ok.status{border-color:rgba(56,210,122,.35)}
    .warn.status{border-color:rgba(255,207,90,.35)}
    .danger.status{border-color:rgba(255,90,107,.40)}

    .kpis{
      display:grid; grid-template-columns: repeat(3, minmax(0,1fr));
      gap:12px; margin:10px 0 8px 0;
    }
    .kpi{padding:10px; border-radius:12px; border:1px solid rgba(255,255,255,.08); background:rgba(255,255,255,.025); text-align:center}
    .kpi .label{display:block; font-size:.75rem; color:#b7c2ff; margin-bottom:4px; letter-spacing:.03em}
    .kpi .value{font-size:1.05rem; font-weight:700}

    /* uptime bar */
    .uptime{
      margin-top:10px;
    }
    .uptime-row{
      display:flex; align-items:center; justify-content:space-between; margin-bottom:6px; color:#dfe1ff; font-size:.85rem;
    }
    .bar{
      position:relative; height:9px; border-radius:999px;
      background:rgba(255,255,255,.06); overflow:hidden; border:1px solid rgba(255,255,255,.10);
    }
    .bar>span{
      display:block; height:100%;
      background: linear-gradient(90deg, rgba(187,154,247,.9), rgba(187,154,247,.55));
      width:0%;
      transition: width .6s ease;
      box-shadow: 0 0 18px rgba(187,154,247,.35);
    }

    /* API chart */
    #apiCard{padding:14px}
    #apiChart{width:100%; height:280px}
    .card-title{
      display:flex; align-items:center; justify-content:space-between; margin-bottom:8px;
      font-weight:700; color:#e8e8ff;
    }

    /* footer */
    .footer{
      margin-top:22px;
      padding:14px 16px;
      display:flex; align-items:center; justify-content:space-between;
      font-size:.9rem; color:#d8d8ff;
    }
    .footer a{color:var(--accent); text-decoration:none}
    .footer a:hover{text-decoration:underline}

    /* little welcome toast */
    .wel-toast{
      position:fixed; left:50%; bottom:28px; transform:translateX(-50%);
      padding:10px 14px; border-radius:12px;
      background: rgba(255,255,255,.05);
      border:1px solid rgba(187,154,247,.35);
      backdrop-filter: blur(18px);
      color:#fff; z-index:1200; opacity:0; transition:opacity .25s ease;
      box-shadow: 0 10px 24px rgba(0,0,0,.35), 0 0 22px rgba(187,154,247,.15) inset;
      pointer-events:none;
    }

    /* responsive bits */
    @media (max-width:560px){
      .ascii{font-size:.46rem}
      .kpis{grid-template-columns: repeat(3,1fr)}
      .footer{flex-direction:column; gap:8px; text-align:center}
    }
  </style>

  <!-- Highcharts (CDN) -->
  <script src="https://code.highcharts.com/highcharts.js"></script>
</head>
<body>
  <!-- Constellation background -->
  <canvas id="bg"></canvas>

  <!-- Click-to-Enter Gate -->
  <div id="cte" class="cte">
    <button class="cte-btn" aria-label="Click to Enter">Click to Enter</button>
  </div>

  <div class="container">
    <div class="hdr">
      <div class="ascii">
██████╗  █████╗ ██████╗ ██╗    ██╗ ██████╗ ██╗    ██╗██╗     ██╗███████╗
██╔══██╗██╔══██╗██╔══██╗██║    ██║██╔═══██╗██║    ██║██║     ██║██╔════╝
██████╔╝███████║██████╔╝██║ █╗ ██║██║   ██║██║ █╗ ██║██║     ██║█████╗  
██╔══██╗██╔══██║██╔══██╗██║███╗██║██║   ██║██║███╗██║██║     ██║██╔══╝  
██████╔╝██║  ██║██║  ██║╚███╔███╔╝╚██████╔╝╚███╔███╔╝███████╗██║███████╗
╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝ ╚══╝╚══╝  ╚═════╝  ╚══╝╚══╝ ╚══════╝╚═╝╚══════╝
      </div>
      <div class="tagline">Status page for <b>badwolfie.live</b></div>
    </div>

    <div class="sep"></div>

    <h2 class="section-title">Servers</h2>
    <div class="servers-grid">
      <!-- Server A -->
      <div id="srvA" class="server glass">
        <div class="server-head">
          <div class="server-name">
            <b>Dallas, Texas</b>
            <span>Primary</span>
          </div>
          <div class="status ok" data-role="status">
            <span class="dot"></span><span data-role="status-text">Operational</span>
          </div>
        </div>
        <div class="kpis">
          <div class="kpi">
            <span class="label">Ping (ms)</span>
            <span class="value" data-role="ping">42</span>
          </div>
          <div class="kpi">
            <span class="label">Load</span>
            <span class="value" data-role="load">0.58</span>
          </div>
          <div class="kpi">
            <span class="label">Uptime</span>
            <span class="value" data-role="uptimeTxt">99.97%</span>
          </div>
        </div>
        <div class="uptime">
          <div class="uptime-row">
            <span>Uptime (rolling)</span>
            <span data-role="uptimeTxt2">99.97%</span>
          </div>
          <div class="bar"><span data-role="uptimeBar" style="width:99.97%"></span></div>
        </div>
      </div>

      <!-- Server B -->
      <div id="srvB" class="server glass">
        <div class="server-head">
          <div class="server-name">
            <b>San Francisco, California</b>
            <span>Backup</span>
          </div>
          <div class="status ok" data-role="status">
            <span class="dot"></span><span data-role="status-text">Operational</span>
          </div>
        </div>
        <div class="kpis">
          <div class="kpi">
            <span class="label">Ping (ms)</span>
            <span class="value" data-role="ping">55</span>
          </div>
          <div class="kpi">
            <span class="label">Load</span>
            <span class="value" data-role="load">0.74</span>
          </div>
          <div class="kpi">
            <span class="label">Uptime</span>
            <span class="value" data-role="uptimeTxt">99.91%</span>
          </div>
        </div>
        <div class="uptime">
          <div class="uptime-row">
            <span>Uptime (rolling)</span>
            <span data-role="uptimeTxt2">99.91%</span>
          </div>
          <div class="bar"><span data-role="uptimeBar" style="width:99.91%"></span></div>
        </div>
      </div>
    </div>

    <h2 class="section-title" style="margin-top:22px">BadWolf API</h2>
    <div id="apiCard" class="glass">
      <div class="card-title">Requests per Second</div>
      <div id="apiChart"></div>
    </div>

    <div class="footer glass">
      <div>Powered by BadWolfNetworks</div>
      <div><a href="https://guns.badwolfie.live" target="_blank" rel="noopener">guns.badwolfie.live</a></div>
    </div>
  </div>

  <!-- Hidden YouTube player container -->
  <div id="ytplayer" style="position:absolute;width:0;height:0;overflow:hidden;"></div>

  <!-- BW: scripts -->
  <script>
    // ===== Constellation background =====
    (function(){
      const canvas = document.getElementById('bg');
      const ctx = canvas.getContext('2d');
      let W=innerWidth, H=innerHeight;
      let pts=[], N=60, D=120;

      function resize(){
        W = innerWidth; H = innerHeight;
        canvas.width = W; canvas.height = H;
        init();
      }
      function randCol(){
        const cols = ['#60284A','#435177','#FFFFFF'];
        return cols[Math.floor(Math.random()*cols.length)];
      }
      function init(){
        pts.length = 0;
        for(let i=0;i<N;i++){
          pts.push({
            x: Math.random()*W, y: Math.random()*H,
            vx: (Math.random()-.5)*.3, vy:(Math.random()-.5)*.3,
            c: randCol()
          });
        }
      }
      function draw(){
        ctx.clearRect(0,0,W,H);
        for(let i=0;i<pts.length;i++){
          const p=pts[i];
          p.x+=p.vx; p.y+=p.vy;
          if(p.x<0||p.x>W) p.vx*=-1;
          if(p.y<0||p.y>H) p.vy*=-1;

          ctx.beginPath(); ctx.arc(p.x,p.y,1,0,Math.PI*2); ctx.fillStyle=p.c; ctx.fill();
          for(let j=i+1;j<pts.length;j++){
            const q=pts[j];
            const dx=p.x-q.x, dy=p.y-q.y; const dist=Math.hypot(dx,dy);
            if(dist<D){
              const g=ctx.createLinearGradient(p.x,p.y,q.x,q.y);
              g.addColorStop(0,p.c); g.addColorStop(1,q.c);
              ctx.beginPath(); ctx.moveTo(p.x,p.y); ctx.lineTo(q.x,q.y);
              ctx.strokeStyle=g; ctx.lineWidth=.3*(1 - dist/D); ctx.stroke();
            }
          }
        }
        requestAnimationFrame(draw);
      }
      addEventListener('resize', resize);
      resize(); draw();
    })();

    // ===== Click to enter + YouTube music (loop @ 30% volume) =====
    (function(){
      const gate = document.getElementById('cte');
      let ytReady=false, ytPlayer=null;

      function loadYT(){
        return new Promise(res=>{
          if(ytReady) return res();
          const s=document.createElement('script');
          s.src="https://www.youtube.com/iframe_api";
          window.onYouTubeIframeAPIReady = ()=>{ ytReady=true; res(); };
          document.head.appendChild(s);
        });
      }
      function mkPlayer(){
        if(ytPlayer) return;
        ytPlayer = new YT.Player('ytplayer',{
          videoId:'5SMKzZSz1YU',
          playerVars:{
            autoplay:1, controls:0, disablekb:1, fs:0, rel:0, modestbranding:1,
            playsinline:1, loop:1, playlist:'5SMKzZSz1YU'
          },
          events:{
            onReady:(e)=>{ try{ e.target.setVolume(30); e.target.playVideo(); }catch{} }
          }
        });
      }
      gate.addEventListener('click', async ()=>{
        gate.classList.add('fade-out');
        await loadYT(); mkPlayer();
        setTimeout(()=>{ gate.style.display='none'; }, 600);

        // welcome toast
        const t=document.createElement('div'); t.className='wel-toast';
        t.textContent='Welcome to badwolfie.live';
        document.body.appendChild(t);
        requestAnimationFrame(()=> t.style.opacity='1');
        setTimeout(()=>{ t.style.opacity='0'; setTimeout(()=>t.remove(), 250); }, 2200);
      }, { once:true });
    })();

    // ===== Fake telemetry for servers (random walk) =====
    (function(){
      const clamp=(v,min,max)=>Math.max(min,Math.min(max,v));
      function randomWalk(v,step,min,max){
        v += (Math.random()*2 - 1) * step;
        return clamp(v, min, max);
      }
      function fmt(num, d=2){
        return Number(num).toFixed(d);
      }

      function initServer(root, init){
        const el = (sel)=>root.querySelector(sel);
        const s = {
          ping: init.ping,
          load: init.load,
          uptime: init.uptime,
          elPing: el('[data-role="ping"]'),
          elLoad: el('[data-role="load"]'),
          elUp1: el('[data-role="uptimeTxt"]'),
          elUp2: el('[data-role="uptimeTxt2"]'),
          elBar: el('[data-role="uptimeBar"]'),
          elStat: el('[data-role="status"]'),
          elStatTxt: el('[data-role="status-text"]'),
        };
        function updateStatus(){
          // rules: warn if ping>80 || load>1.6 ; danger if ping>120 || load>2.1
          let cls='ok', txt='Operational';
          if (s.ping>120 || s.load>2.1){ cls='danger'; txt='Partial Outage'; }
          else if (s.ping>80 || s.load>1.6){ cls='warn'; txt='Degraded'; }
          s.elStat.classList.remove('ok','warn','danger'); s.elStat.classList.add(cls);
          s.elStatTxt.textContent = txt;
        }
        function tick(){
          // Ping: small random walk 9..140ms
          s.ping = randomWalk(s.ping, 6, 9, 140);
          // Load: 0.05..2.4
          s.load = randomWalk(s.load, .16, .05, 2.4);
          // Uptime: tiny drift ±0.01 capped 98.4..100
          s.uptime = clamp(s.uptime + (Math.random()*0.02 - 0.01), 98.4, 100);

          s.elPing.textContent = Math.round(s.ping);
          s.elLoad.textContent = fmt(s.load, 2);
          const upTxt = fmt(s.uptime, 2) + '%';
          s.elUp1.textContent = upTxt; s.elUp2.textContent = upTxt;
          s.elBar.style.width = fmt(s.uptime, 2) + '%';

          updateStatus();
        }
        tick(); // initial paint
        return setInterval(tick, 1200);
      }

      // Initialize both servers
      initServer(document.getElementById('srvA'), { ping:42, load:.58, uptime:99.97 });
      initServer(document.getElementById('srvB'), { ping:55, load:.74, uptime:99.91 });
    })();

    // ===== Highcharts: BadWolf API (1s tick, keep last 60) =====
    (function(){
      const chart = Highcharts.chart('apiChart', {
        chart: { type:'spline', backgroundColor:'transparent' },
        title: { text: '', style:{ color:'#fff' } },
        credits: { enabled:false },
        legend: { enabled:false },
        xAxis: {
          type:'datetime',
          lineColor:'#333', tickColor:'#333',
          labels: { style:{ color:'#fff' } }
        },
        yAxis: {
          title: { text: 'Requests', style:{ color:'#fff' } },
          gridLineColor:'#333',
          labels: { style:{ color:'#fff' } }
        },
        tooltip: {
          backgroundColor:'#111',
          borderColor:'rgba(187,154,247,.6)',
          style:{ color:'#fff' },
          xDateFormat: '%H:%M:%S'
        },
        series: [{ name:'RPS', color:'#bb9af7', data:[] }]
      });

      function val(t){
        // value = max(0, 12 + 6*sin(time/3500) + random(0..4))
        const base = 12 + 6 * Math.sin(t/3500);
        const jitter = Math.random()*4;
        return Math.max(0, base + jitter);
      }
      function tick(){
        const s = chart.series[0];
        const x = Date.now();
        const y = val(x);
        s.addPoint([x, y], true, s.data.length >= 60);
      }
      // seed a few points so it isn't empty on load
      const now = Date.now();
      for(let i=59;i>=0;i--){
        chart.series[0].addPoint([now - i*1000, val(now - i*1000)], false, false);
      }
      chart.redraw();
      setInterval(tick, 1000);
    })();
  </script>
</body>
</html>